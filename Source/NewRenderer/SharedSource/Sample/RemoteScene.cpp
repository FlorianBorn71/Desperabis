#include "pch.h"
#include <Sample/RemoteScene.h>
#include <GamePlay/GamePlay.h>
#include <Asset/Level.h>
#include <Renderer/Renderer.h>
#include <Renderer/Camera.h>
#include <Asset/AssetManager.h>



bool RemoteScene::g_pendingSnapshot = false;

RemoteScene::RemoteScene(int levelIndex)
    : LevelScene(levelIndex)
{
	memset(m_currentObjState, 0, sizeof(m_currentObjState));
	memset(m_lastUpdatedState, 0, sizeof(m_lastUpdatedState));
	m_createGameObjects = false;
}


RemoteScene::~RemoteScene()
{
	Disconnect();
}

FUTURE(void) RemoteScene::LoadNewLevel(int levelIndex)
{
	m_sceneReady = false;
	ClearScene();

	m_levelIndex = levelIndex;
	CO_AWAIT LevelScene::CreateScene();
	m_sceneReady = true;
}

FUTURE(void) RemoteScene::CreateScene()
{
    CO_AWAIT LevelScene::CreateScene();

    m_sceneReady = true;
}


void RemoteScene::ClearScene()
{
	LevelScene::ClearScene();
	for (int i = 0; i < g_numGameObjects; i++)
	{
		m_currentObjState[i] = {};
		m_lastUpdatedState[i] = {};
		m_renderableInst[i].reset();
		m_gameObj[i].reset();
	}
}

void RemoteScene::TryConnect()
{
	int size = sizeof(SharedLevelMem);
#ifdef SHAREDMEM_MAPPEDFILE

	static bool create = false;

	if (create)
	{
		m_hMapFile = CreateFileMappingW(
			INVALID_HANDLE_VALUE,    // use paging file
			NULL,                    // default security
			PAGE_READWRITE,          // read/write access
			0,                       // maximum object size (high-order DWORD)
			size,                // maximum object size (low-order DWORD)
			L"DesperabisGameplay");                 // name of mapping object
	}
	else
	{
		m_hMapFile = OpenFileMappingW(
			FILE_MAP_ALL_ACCESS,   // read/write access
			FALSE,                 // do not inherit the name
			L"DesperabisGameplay");
	}

	DWORD error = 0;
	if (m_hMapFile == NULL)
	{
		error = GetLastError();
		return;
	}
	m_sharedMemory = (SharedLevelMem *)MapViewOfFile(m_hMapFile,   // handle to map object
		FILE_MAP_ALL_ACCESS, // read/write permission
		0,
		0,
		size);

	if (m_sharedMemory == nullptr)
	{
		error = GetLastError();
		CloseHandle(m_hMapFile);
		return;
	}
#endif


	m_isConnected = true;
}


void RemoteScene::Disconnect()
{
	if (m_isConnected)
	{
#ifdef SHAREDMEM_MAPPEDFILE
		UnmapViewOfFile(m_sharedMemory);
		CloseHandle(m_hMapFile);
#endif
	}
}


void RemoteScene::MakeSnapshot()
{
	if (m_sharedMemory == nullptr)
	{
		return;
	}

	unsigned short* rawMem = (unsigned short*)m_sharedMemory;
	const int sizeInWord = sizeof(SharedLevelMem) / sizeof(rawMem[0]);
	std::stringstream s;

	s << "   { // level " << m_levelIndex << "\n";
	s << "       const static unsigned short rawData[] = {";
	for (int i = 0; i < sizeInWord; i++)
	{
		if (i > 0) s << ',';
		if (i % 1000 == 0) s << "\n            ";
		s << rawMem[i];
	}
	s << "        };\n\n";
	s << "        if (level == " << m_levelIndex << ")\n";
	s << "        {\n";
	s << "            static_assert(sizeof(rawData) == sizeof(SharedLevelMem));\n";
	s << "            memcpy(&out_data, rawData, sizeof(SharedLevelMem));\n";
	s << "            return true;\n";
	s << "        }\n";
	s << "    }\n";

	std::string res = s.str();

	g_pendingSnapshot = false;
}

void RemoteScene::Update(double elapsedTime)
{
	if (!m_sceneReady)
	{
		return;
	}

	LevelScene::Update(elapsedTime);

	if (!m_isConnected)
	{
		TryConnect();
	}

	if (g_pendingSnapshot)
	{
		MakeSnapshot();
	}

	SharedLevelMem* pData = nullptr;
	if (m_sharedMemory)
	{
		// connected to DOSBOX?
		pData = m_sharedMemory;
	}
	else if (!m_createGameObjects) // if game objects are not loaded along with the scene
	{
		// use static game snapshot
		if (GatherSnapshot(m_levelIndex, m_snapshotMem))
		{
			pData = &m_snapshotMem;
		}
	}

	if (pData)
	{
		static int lockCtr = 0;
		while (pData->m_beginWrite != pData->m_endWrite)
		{
			lockCtr++;
		}
		// check for level change:
		uint64_t levelHash = pData->m_uniqueLevelHash;
		int levelIndex = AssetManager::Instance().GetLevelIndexByHash(levelHash);
		if (levelIndex < 0) // not a valid level loaded
		{
			return;
		}
		if (levelIndex != m_levelIndex)
		{
			LoadNewLevel(levelIndex);
			return; // next time...
		}

		// copy over from shared mem
		m_currentPlayerPos = pData->m_playerObj;
	    for (int i = 0; i < g_numGameObjects; i++)
		{
			RawGameObject& newGo(m_currentObjState[i]);
			RawGameObject& oldGo(m_lastUpdatedState[i]);
			oldGo.m_level = newGo.m_level = m_level;
			oldGo.m_objectNumber = newGo.m_objectNumber = i;
			memcpy(newGo.m_rawBytes, pData->m_objects[i].m_rawBytes, sizeof(newGo.m_rawBytes));
			newGo.m_rawBytes[48] = 0; // internal data that varies per frame
			newGo.m_rawBytes[49] = 0; // internal data that varies per frame
		}

		{ // player object
			m_currentPlayerPos.m_rawShorts[7] += 25; // slightly up in y-direction for actual cam pos
			const GamePlay::PropertyAccessorPlayer playerProp(m_currentPlayerPos);
			if (m_playerModelInst == nullptr)
			{
				m_playerModelInst = m_level->CreatePlayerObject();
				m_playerModelInst->SetVisible(true);
				this->AddRenderableInstance(m_playerModelInst);
			}

			Matrix4 playerTransform = playerProp.GetCameraTransform(0.f);
			Matrix4 cameraTransform = playerProp.GetCameraTransform(m_hoverDistance);
			m_playerModelInst->SetTransformAndUpdate(playerTransform);
			m_playerModelInst->SetVisible(!m_useFirstPersonCam || m_hoverDistance > 0.f);
			if (m_useFirstPersonCam)
			{
				Camera* cam = Renderer::Instance().GetOrCreateCamera().get();
				cam->SetCameraTransformMatrix(cameraTransform);
			}
		}

		//static std::vector<GamePlay::DisplayType> displayTypesInScene;
		//std::vector<const RawGameObject*> listOfTransparentObjects;

		for (int i = 0; i < g_numGameObjects; i++)
		{
			if (m_currentObjState[i] == m_lastUpdatedState[i])
			{
				continue;
			}

			const GamePlay::PropertyAccessorBase newProp(m_currentObjState[i]);
			const GamePlay::PropertyAccessorBase oldProp(m_lastUpdatedState[i]);

			/*
			if (std::find(displayTypesInScene.begin(), displayTypesInScene.end(), newProp.GetDisplayType()) == displayTypesInScene.end())
			{
				displayTypesInScene.push_back(newProp.GetDisplayType());
			}
			*/
			/*
			{
				const RawGameObject* go = &m_currentObjState[i];
				if (newProp.GetDisplayType() == GamePlay::DisplayType::SpriteTransparent)
				{
					listOfTransparentObjects.push_back(go);
				}
			}*/
			/*
			if (i == 2) // spider
			{
				if (newProp.GetDisplayType() != GamePlay::DisplayType::VectorNormal)
				{
					const RawGameObject* go = &m_currentObjState[i];
					std::wstring state = GamePlay::LogRawGameObjects(&go, 1, L"", L"\t") + L"\n";
					OutputDebugString(state.data());
				}
			}
			*/
			// turn off object
			if (!newProp.Isvalid())
			{
				if (m_renderableInst[i] != nullptr)
				{
					RemoveRenderableInstance(m_renderableInst[i]);
					m_renderableInst[i] = nullptr;
				}
				if (m_gameObj[i] != nullptr)
				{
					RemoveGameObject(m_gameObj[i]); // TODO: light source must be removed
					m_gameObj[i] = nullptr;
				}				continue;
			}

			bool firstAssignment = false;
			if (m_renderableInst[i] == nullptr)
			{
				m_renderableInst[i] = std::make_shared<RenderableInstance>(nullptr);
				m_gameObj[i] = GamePlay::CreateGameObject(*this, m_currentObjState[i]);
				if (m_gameObj[i] != nullptr)
				{
					GamePlay::CreateObjectBehavior(*this, *m_gameObj[i], m_currentObjState[i]);
				}
				firstAssignment = true;
			}
			else
			{
				m_renderableInst[i]->SetVisible(true);
			}

			m_level->ApplyRenderProperties(m_renderableInst[i], m_currentObjState[i]);

			if (firstAssignment)
			{
				this->AddRenderableInstance(m_renderableInst[i]);
				m_renderableInst[i]->UpdateGlobalBounds();
			}
		}

		memcpy(m_lastUpdatedState, m_currentObjState, sizeof(m_currentObjState));

		//std::wstring state = GamePlay::LogRawGameObjects(listOfTransparentObjects.data(), (int)listOfTransparentObjects.size());
		//listOfTransparentObjects.clear();
	}


}


bool RemoteScene::GatherSnapshot(int level, SharedLevelMem& out_data)
{
	{ // level 22 (Catacombs)
		const static unsigned short rawData[] = {
			 0,0,0,768,0,1000,2852,65356,1952,7,0,99,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,1568,772,20224,772,50,1000,3050,65364,2291,0,0,0,35,15,0,0,0,11,5,0,0,0,0,0,393,1024,16385,294,1284,1,0,0,1000,3037,65350,1890,0,0,0,20,20,0,26,256,0,1,26,0,1,65526,65535,195,1024,16387,294,1284,1,0,36,1000,2846,65350,2061,1,0,65533,20,20,0,26,256,0,1,26,0,65509,65506,65535,109,21248,16387,769,256,0,868,0,1000,550,65291,3850,0,0,0,36,8,0,0,0,0,0,0,0,0,0,0,2984,65280,16384,801,768,0,373,117,1000,3504,65145,2967,217,65533,248,20,5,268,109,0,0,468,0,0,0,0,0,1206,1024,16384,1317,259,1,857,89,1000,3750,65170,3250,38,30,9,5,5,0,65535,0,1,550,0,7,0,150,0,1578,1024,16414,294,1284,1,0,0,1000,2927,65350,1953,65535,0,0,20,20,0,404,256,0,1,404,0,1,65506,65535,75,5632,16387,294,258,1,804,36,1000,2443,65350,2182,0,1,0,20,20,0,507,0,0,0,507,0,80,70,65535,469,1024,16387,1312,257,15368,0,140,1011,1850,65379,3350,0,2,0,0,0,0,508,0,0,0,0,0,0,50,0,1620,1024,16384,1312,769,8,777,88,1011,1770,65379,3354,0,0,0,45,35,0,508,0,80,1,0,4,0,10,10,1671,1024,16385,1312,769,8,777,88,1011,1929,65379,3347,0,256,0,45,35,11,764,0,80,1,0,4,0,10,10,1573,1024,16385,1312,257,15361,0,140,1016,950,65381,2250,0,2,0,0,0,0,368,0,0,0,0,0,0,50,0,1925,1024,16384,1312,768,1,521,88,1016,965,65381,2329,0,0,0,45,35,240,368,0,80,1,0,4,0,10,13,1924,1024,16385,1312,768,1,521,88,1016,934,65381,2172,0,256,0,45,35,225,624,0,80,1,0,4,0,10,13,1931,1024,16385,800,258,20224,773,10,1014,1650,65332,2950,0,0,0,10,25,0,384,0,0,0,0,0,0,0,65535,1562,1024,16384,800,258,20224,773,10,1014,1650,65332,2750,0,0,0,10,25,0,384,0,0,0,0,0,0,0,65535,1443,1024,16384,800,258,20224,773,10,1014,1450,65332,3450,0,0,0,10,25,0,0,0,0,0,0,0,0,0,65535,2052,1024,16384,800,258,20224,773,10,1000,2250,65332,2950,0,0,0,54,25,0,128,0,0,0,0,0,0,0,12,1166,1024,16384,800,258,20224,773,10,1000,2250,65332,2750,0,0,0,54,25,0,128,0,0,0,0,0,0,0,13,1000,1024,16384,800,1029,4,304,133,1010,3450,65236,3050,0,0,0,35,112,0,384,0,0,0,0,0,0,0,0,1250,1024,16384,1568,258,5892,260,50,1000,3850,65136,2950,0,0,0,37,25,0,128,0,10,2,0,0,0,0,0,1411,1024,16385,1568,772,20224,772,50,1000,4296,65207,3350,0,0,0,35,15,0,384,0,14,5,0,0,0,0,0,2010,1024,16385,295,256,0,774,0,1000,2661,65343,3442,0,0,0,11,8,0,0,0,13,0,0,0,0,0,0,1502,1284,6400,295,256,0,774,0,1000,950,65342,3650,0,0,0,12,9,0,0,0,12,0,0,0,0,0,0,2550,1284,6400,295,256,0,774,0,1000,864,65343,1848,0,0,0,11,8,0,0,0,15,0,0,0,0,0,0,1991,1284,6400,800,258,20224,773,10,1017,950,65332,3850,0,0,0,10,25,0,128,0,0,0,0,0,0,0,65535,2687,1024,16384,800,258,20224,773,10,1000,1350,65332,3750,0,0,0,54,25,0,256,0,0,0,0,0,0,0,15,2343,1024,16384,1568,772,20224,772,50,1000,1350,65362,3890,0,0,0,35,15,0,0,0,16,5,0,0,0,0,0,2452,1024,16385,1568,772,20224,260,50,1000,929,65384,2104,0,0,0,28,15,0,384,128,17,5,0,0,0,0,0,1929,1024,16385,774,256,1,32278,4,0,2854,65353,2000,1,0,24,8,8,0,0,0,0,4,1,0,12,11,2,32000,256,11570,549,1025,1,856,88,1000,3710,65170,3251,0,0,0,40,15,0,65535,0,40,2,3,0,59,20,7,1557,1024,1,805,1027,1,856,88,1000,3711,65170,3239,0,24,0,40,15,0,23,0,40,2,7,0,11,20,7,1547,1024,1,1061,770,1,856,88,1000,3716,65170,3228,0,49,0,40,15,0,48,0,40,2,0,1,51,20,7,1541,1024,1,549,513,1,856,88,1000,3724,65170,3220,0,73,0,40,15,0,72,0,40,2,2,0,32,20,7,1539,1024,1,805,770,1,856,88,1000,3735,65170,3213,0,98,0,40,15,0,97,0,40,2,7,0,49,20,7,1539,1024,1,1061,258,1,856,88,1000,3746,65170,3211,0,122,0,40,15,0,121,0,40,2,8,1,97,20,7,1544,1024,1,549,
			 769,1,856,88,1000,3758,65170,3211,0,146,0,40,15,0,145,0,40,2,0,0,51,20,7,1551,1024,1,805,260,1,856,88,1000,3769,65170,3216,0,171,0,40,15,256,170,0,40,2,4,0,72,20,7,1562,1024,1,1061,1025,1,856,88,1000,3778,65170,3223,0,195,0,40,15,0,194,0,40,2,3,1,60,20,7,1573,1024,1,549,515,1,856,88,1000,3785,65170,3233,0,219,0,40,15,256,218,0,40,2,6,0,53,20,7,1585,1024,1,805,260,1,856,88,1000,3789,65170,3244,0,244,0,40,15,256,243,0,40,2,0,0,88,20,7,1596,1024,1,1061,769,1,856,88,1000,3789,65170,3256,0,268,0,40,15,0,267,0,40,2,8,1,74,20,7,1606,1024,1,549,258,1,856,88,1000,3786,65170,3268,0,293,0,40,15,256,292,0,40,2,4,0,57,20,7,1614,1024,1,805,1025,1,856,88,1000,3779,65170,3277,0,317,0,40,15,256,316,0,40,2,3,0,33,20,7,1617,1024,1,1061,258,1,856,88,1000,3770,65170,3285,0,341,0,40,15,0,340,0,40,2,6,1,76,20,7,1619,1024,1,549,1027,1,856,88,1000,3759,65170,3289,0,366,0,40,15,256,365,0,40,2,1,0,96,20,7,1616,1024,1,805,515,1,856,88,1000,3747,65170,3290,0,390,0,40,15,256,389,0,40,2,4,0,54,20,7,1610,1024,1,1061,1027,1,856,88,1000,3736,65170,3288,0,414,0,40,15,0,413,0,40,2,7,1,23,20,7,1602,1024,1,549,770,1,856,88,1000,3725,65170,3282,0,439,0,40,15,256,438,0,40,2,9,0,37,20,7,1591,1024,1,805,513,1,856,88,1000,3717,65170,3274,0,463,0,40,15,256,462,0,40,2,1,0,29,20,7,1580,1024,1,1061,1025,1,856,88,1000,3711,65170,3263,0,488,0,40,15,0,487,0,40,2,9,1,90,20,7,1567,1024,1,292,515,257,804,43,1000,2955,65340,2942,1,4,2,20,10,0,34,0,0,0,177,0,53,110,65535,995,1024,16394,292,769,257,804,43,1000,2950,65340,2955,0,1,0,20,10,0,142,0,0,0,142,0,36,110,65535,1008,1024,16394,292,258,257,804,43,1000,2338,65340,2944,0,7,65535,20,10,0,39,0,0,0,39,0,93,110,65535,1117,1024,16394,292,769,257,804,43,1000,1912,65340,2745,0,1,65535,20,10,0,40,0,0,0,40,0,58,110,65535,1230,1024,16394,294,258,1,804,36,1003,850,65349,1850,5,6,1,20,20,0,135,0,0,0,0,0,72,70,65535,2005,1024,16387,769,256,0,263,0,1000,1250,65358,1850,0,0,0,106,16,0,0,0,3,0,0,0,0,0,0,1605,65280,16384,293,257,1,857,89,1000,1250,65360,3650,13,20,5,5,5,0,0,0,4,600,0,6,0,150,0,2334,1024,11,549,516,1,856,88,1000,1240,65360,3650,0,0,0,20,15,0,0,0,10,0,0,1,51,10,59,2341,1024,1,805,515,1,856,88,1000,1243,65360,3643,0,73,0,20,15,0,73,0,10,0,0,1,79,10,59,2334,1024,1,549,772,1,856,88,1000,1252,65360,3641,0,146,0,20,15,0,146,0,10,0,2,1,98,10,59,2327,1024,1,805,260,1,856,88,1000,1258,65360,3646,0,219,0,20,15,0,219,0,10,0,6,1,16,10,59,2326,1024,1,549,258,1,856,88,1000,1258,65360,3655,0,293,0,20,15,0,293,0,10,0,5,1,21,10,59,2333,1024,1,805,1025,1,856,88,1000,1252,65360,3660,0,366,0,20,15,0,366,0,10,0,6,1,35,10,59,2340,1024,1,549,1027,1,856,88,1000,1243,65360,3658,0,439,0,20,15,0,439,0,10,0,10,1,16,10,59,2345,1024,1,293,257,1,857,89,1000,750,65360,2650,7,20,14,5,5,0,0,0,4,600,0,6,0,150,0,2215,1024,11,549,1025,1,856,88,1000,740,65360,2650,0,0,0,20,15,0,0,0,10,0,9,1,96,10,67,2224,1024,1,805,770,1,856,88,1000,743,65360,2643,0,73,0,20,15,0,73,0,10,0,11,1,55,10,67,2219,1024,1,549,259,1,856,88,1000,752,65360,2641,0,146,0,20,15,0,146,0,10,0,1,1,39,10,67,2210,1024,1,805,513,1,856,88,1000,758,65360,2646,0,219,0,20,15,0,219,0,10,0,3,1,83,10,67,2206,1024,1,549,259,1,856,88,1000,758,65360,2655,0,293,0,20,15,0,293,0,10,0,8,1,76,10,67,2209,1024,1,805,1025,1,856,88,1000,752,65360,2660,0,366,0,20,15,0,366,0,10,0,0,1,28,10,67,2216,1024,1,549,769,1,856,88,1000,743,65360,2658,0,439,0,20,15,0,439,0,10,0,8,1,24,10,67,2224,1024,1,550,768,
			 0,373,117,1000,3493,65157,3365,112,11,219,20,5,256,490,0,0,371,0,0,0,0,0,1552,1024,16384,550,1024,0,373,117,1000,3982,65185,3396,91,65535,248,20,5,256,356,0,0,206,0,0,0,0,0,1834,1024,16384,545,256,0,373,117,1000,3776,65145,3146,143,65535,44,20,5,407,484,0,0,101,0,0,0,0,0,1510,1024,16384,801,768,0,373,117,1000,3923,65190,3278,207,9,26,20,5,380,309,0,0,327,0,0,0,0,0,1704,1024,16384,801,768,0,373,117,1000,3435,65273,3350,4,5,82,20,5,256,98,0,0,200,0,0,0,0,0,1515,1024,16384,801,768,0,373,117,1000,3711,65185,2879,173,3,166,20,5,256,174,0,0,165,0,0,0,0,0,1264,1024,16384,547,256,7,0,0,1000,1324,65339,3890,0,0,0,6,6,0,56,65506,0,0,0,0,0,0,0,2368,1024,16384,801,768,0,373,117,1000,3634,65232,2921,187,13,188,20,5,57,135,0,0,288,0,27,0,0,0,1245,1024,16384,801,1024,0,373,117,1000,3616,65145,3272,130,6,114,20,5,256,131,0,0,108,0,0,0,0,0,1525,1024,16384,801,1024,0,373,117,1000,3738,65325,2864,181,2,133,20,5,425,142,0,0,263,0,53,0,0,0,1272,1024,16384,801,1024,0,373,117,1000,3471,65205,3403,80,65525,29,20,5,398,150,0,0,160,0,0,0,0,0,1578,1024,16384,1311,768,0,0,9,1000,1144,65389,3507,0,0,0,6,18,0,256,0,0,0,2,0,4,0,0,2310,1024,8960,801,1024,0,373,117,1000,3897,65211,3433,169,65531,173,20,5,256,112,0,0,9,0,0,0,0,0,1813,1024,16384,801,258,0,0,202,1000,3542,65139,2929,0,0,0,10,10,0,0,0,1,30,1,0,65526,1,0,1196,1024,16385,1057,258,0,0,15,1000,3585,65139,3337,0,0,0,10,10,0,0,0,2,0,0,0,34,0,0,1567,1024,16384,1057,258,0,0,15,1000,4184,65189,3358,0,0,0,10,10,0,0,0,3,0,0,0,19,0,0,1937,1024,16384,801,258,0,0,15,1000,4216,65189,3339,0,0,0,10,10,0,0,0,1,0,0,0,176,0,0,1945,1024,16384,801,258,0,0,15,1000,4242,65189,3314,0,0,0,10,10,0,140,0,1,0,0,0,141,0,0,1946,1024,16384,257,256,22272,0,190,1000,1950,65349,2750,0,0,0,10,10,0,0,0,0,0,0,9,0,0,2,1204,65280,16384,289,258,0,66,66,1000,3900,65140,2941,249,0,255,10,7,0,62,0,0,1,0,0,77,0,0,1441,1024,16384,289,258,0,66,66,1000,3952,65244,3015,66,0,21,10,7,0,274,0,258,1,0,0,27,0,0,1530,1024,16384,290,258,1,781,13,1000,756,65340,3089,65535,0,65534,8,10,0,65511,0,3,0,0,15,140,0,1,2385,1024,16385,1055,1024,0,0,9,1000,2192,65391,2884,0,0,0,6,18,0,384,0,0,0,2,0,4,0,0,1142,1280,8960,1055,1024,0,0,9,1000,1707,65393,2885,0,0,0,6,18,0,128,0,0,0,0,0,4,0,0,1477,1280,8960,769,512,0,258,0,1000,350,65347,2050,0,0,0,7,10,0,0,0,200,0,0,0,100,0,0,2504,514,6912,1311,768,0,0,9,1000,1220,65396,1893,0,0,0,6,18,0,0,0,0,0,0,0,4,0,0,1633,1280,8960,1055,1024,0,0,9,1000,2400,65395,3407,0,0,0,6,18,0,318,0,0,0,0,0,4,0,0,1524,1280,8960,513,768,1,0,24,12,2858,65412,2063,0,128,2,20,5,0,0,0,15,1,0,0,3,5,0,111,256,45056,513,768,1,0,24,0,2859,65429,2064,0,186,2,20,5,0,1,0,117,1,0,0,0,5,0,32000,256,36352,513,768,1,0,24,0,2846,65414,2046,0,217,2,20,5,0,1,0,177,1,0,0,0,5,0,32000,256,30464,513,768,1,0,24,0,2844,65415,2058,0,179,2,20,5,0,0,0,42,1,0,0,0,5,0,32000,256,35328,513,768,1,0,24,0,2859,65419,2066,0,190,2,20,5,0,0,0,197,1,0,0,0,5,0,32000,256,36864,513,768,1,0,24,0,2841,65444,2065,0,180,2,20,5,0,0,0,23,1,0,0,0,5,0,32000,256,42496,513,768,1,0,24,0,2849,65400,2061,0,96,2,20,5,0,1,0,189,1,0,0,0,5,0,32000,256,37888,513,768,1,0,24,10,2845,65397,2049,0,77,2,20,5,0,1,0,81,1,0,0,2,5,0,97,256,44032,513,768,1,0,24,1,2849,65421,2054,0,123,2,20,5,0,0,0,157,1,0,0,0,5,0,102,256,41472,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
			 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,261,2569,291,566,35323,0,35323,0 };

		if (level == 22)
		{
			static_assert(sizeof(rawData) == sizeof(SharedLevelMem));
			memcpy(&out_data, rawData, sizeof(SharedLevelMem));
			return true;
		}
	}

	{ // level 25 (burning forest)
		const static unsigned short rawData[] = {
			 0,0,0,768,0,1000,1875,65520,3458,12,0,99,15,23,0,0,0,0,0,0,0,0,0,0,0,0,0,518,256,3,0,202,1000,2812,65474,3527,0,0,0,20,20,0,128,0,4,1,2,0,0,2,0,940,512,16389,262,256,3,0,202,1000,2823,65483,3570,0,0,0,20,20,0,128,0,1,25,2,0,0,1,0,955,512,16386,262,256,0,0,139,1000,1657,65514,3356,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,241,256,12800,262,256,0,0,139,1000,1907,65514,3584,0,0,0,17,17,0,0,0,0,0,0,0,50,0,36,130,65280,12800,262,256,0,0,139,1000,1900,65514,3625,0,0,0,17,17,0,0,0,0,0,0,0,50,0,46,169,65280,12800,262,256,0,0,139,1000,1333,65434,2745,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,896,256,12800,262,256,0,0,139,1000,1935,65514,3619,0,0,0,17,17,0,0,0,0,0,0,0,50,0,36,172,65280,12800,513,768,1,0,24,34,1360,65519,2684,0,132,2,5,5,0,0,0,120,0,0,0,5,0,0,930,256,30720,262,256,0,0,139,1000,1360,65462,2684,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,930,256,12800,262,256,0,0,139,1000,1296,65460,2621,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,1018,256,12800,262,256,0,0,139,1000,1227,65454,2633,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,1049,256,12800,262,256,0,0,139,1000,1169,65438,2688,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,1045,256,12800,262,256,0,0,139,1000,1210,65414,2736,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,982,256,12800,262,256,0,0,139,1000,1183,65442,2838,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,929,256,12800,262,256,0,0,139,1000,1198,65454,2883,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,888,256,12800,262,256,0,0,139,1000,1336,65484,2884,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,787,256,12800,262,256,0,0,139,1000,1339,65456,2835,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,822,256,12800,262,256,0,0,139,1000,1296,65414,2701,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,953,256,12800,262,256,0,0,139,1000,1280,65438,2659,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,996,256,12800,262,256,0,0,139,1000,1245,65430,2828,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,891,256,12800,262,256,0,0,139,1000,1261,65429,2796,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,903,256,25600,262,256,0,0,139,1000,1333,65452,2801,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,852,256,28160,262,256,0,0,139,1000,1258,65432,2723,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,960,256,28160,262,256,0,0,139,1000,1210,65432,2792,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,941,256,28160,262,256,0,0,139,1000,1165,65456,2752,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,1001,256,28160,262,256,0,0,139,1000,1294,65458,2840,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,848,256,28160,262,256,0,0,139,1000,1299,65432,2772,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,896,256,28160,262,256,0,0,139,1000,1226,65441,2727,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,978,256,35840,262,256,0,0,139,1000,1226,65450,2784,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,936,256,43520,262,256,0,0,139,1000,1238,65459,2793,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,921,256,51200,262,256,0,0,139,1000,1200,65468,2783,0,0,0,17,17,0,0,0,0,0,0,0,50,0,16,955,256,58880,258,256,1,0,110,1000,1275,65481,2565,0,0,4,22,6,0,1,0,0,0,189,0,22,0,0,1076,256,24320,258,512,1,0,110,1000,1324,65480,2587,0,0,65534,22,6,0,0,0,0,0,36,0,21,0,0,1031,256,24576,258,256,1,0,110,1000,1361,65482,2613,0,0,2,22,6,0,1,0,0,0,493,0,20,0,0,989,256,24064,258,512,1,0,110,1000,1402,65488,2646,0,0,1,22,6,0,0,0,0,0,449,0,19,0,0,940,256,36864,258,256,1,0,110,1000,1403,65480,2693,0,0,3,22,6,0,1,0,0,0,85,0,18,0,0,899,256,35072,258,
			 256,1,0,110,1000,1418,65473,2753,0,0,2,22,6,0,0,0,0,0,349,0,17,0,0,840,256,22784,258,256,1,0,110,1000,1420,65486,2817,0,0,1,22,6,0,1,0,0,0,90,0,16,0,0,786,256,35584,258,256,1,0,110,1000,1420,65505,2883,0,0,4,22,6,0,1,0,0,0,127,0,15,0,0,733,256,23552,258,512,1,0,110,1000,1351,65486,2901,0,0,2,22,6,0,0,0,0,0,309,0,16,0,0,765,256,31232,258,256,1,0,110,1000,1306,65488,2935,0,0,3,22,6,0,1,0,0,0,39,0,16,0,0,773,256,32000,258,512,1,0,110,1000,1236,65474,2922,0,0,65532,22,6,0,0,0,0,0,80,0,17,0,0,834,256,28160,258,512,1,0,110,1000,1183,65480,2939,0,0,1,22,6,0,0,0,0,0,7,0,18,0,0,865,256,31744,258,512,1,0,110,1000,1133,65487,2924,0,0,65533,22,6,0,1,0,0,0,379,0,19,0,0,914,256,24576,258,256,1,0,110,1000,1114,65479,2849,0,0,65533,22,6,0,1,0,0,0,431,0,20,0,0,975,256,28928,258,512,1,0,110,1000,1051,65490,2772,0,0,2,22,6,0,1,0,0,0,273,0,22,0,0,1072,256,33280,258,256,1,0,110,1000,1070,65479,2715,0,0,3,22,6,0,0,0,0,0,428,0,23,0,0,1095,256,35072,258,512,1,0,110,1000,1066,65495,2638,0,0,3,22,6,0,1,0,0,0,295,0,24,0,0,1152,256,29696,258,256,1,0,110,1000,1129,65483,2622,0,0,65534,22,6,0,0,0,0,0,504,0,23,0,0,1120,256,25856,258,256,1,0,110,1000,1149,65492,2568,0,0,65535,22,6,0,0,0,0,0,254,0,24,0,0,1149,256,32512,258,512,1,0,110,1000,1215,65477,2582,0,0,4,22,6,0,1,0,0,0,136,0,23,0,0,1097,256,28160,258,256,1,0,110,1000,1382,65464,2759,0,0,65533,22,6,0,0,0,0,0,85,0,17,0,0,855,256,29440,258,256,1,0,110,1000,1111,65478,2776,0,0,2,22,6,0,0,0,0,0,180,0,21,0,0,1024,256,29952,258,512,1,0,110,1000,1111,65482,2666,0,0,4,22,6,0,0,0,0,0,84,0,23,0,0,1100,256,24320,1568,516,0,0,152,1000,1650,65495,3150,0,0,0,20,20,0,384,0,0,0,0,0,0,0,0,381,1024,16384,1568,515,0,0,152,1000,1550,65495,3150,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,448,1024,16384,1568,515,0,0,152,1000,1450,65495,3150,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,525,1024,16384,1568,515,0,256,150,1000,1350,65495,3150,0,0,0,37,31,0,128,0,0,0,0,0,0,0,0,609,1024,16384,1568,515,0,0,152,1000,1250,65495,3150,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,697,1024,16384,1568,515,0,0,152,1000,1150,65495,3150,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,788,1024,16384,1568,516,0,0,152,1000,1050,65495,3150,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,881,1024,16384,291,258,769,799,31,1001,1250,65399,2750,0,0,3,13,9,0,248,0,5,15,0,0,0,40,10,944,5632,16389,290,515,1,804,36,1001,1250,65409,2746,65534,6,1,20,20,0,352,0,0,0,0,0,12,32,0,947,5632,16387,769,256,0,263,0,1000,1150,65513,2450,0,0,0,136,16,0,0,0,1,0,0,0,0,0,0,1242,65280,16384,769,256,0,263,0,1000,1252,65460,2759,0,0,0,136,56,0,0,0,1,0,0,0,0,0,0,936,65280,16384,290,515,1,804,36,1001,1267,65409,2746,65534,6,1,20,20,0,262,0,0,0,0,0,12,32,0,936,5632,16387,291,258,769,799,31,1001,1256,65399,2750,0,0,3,13,9,0,248,0,5,15,0,0,0,40,10,940,5632,16389,291,258,769,799,31,1001,1262,65399,2750,0,0,3,13,9,0,248,0,5,15,0,0,0,40,10,937,5632,16389,291,258,769,799,31,1001,1262,65399,2757,0,0,3,13,9,0,248,0,5,15,0,0,0,40,10,931,5632,16389,291,258,769,799,31,1001,1262,65399,2763,0,0,3,13,9,0,248,0,5,15,0,0,0,40,10,927,5632,16389,291,258,769,799,31,1001,1257,65399,2763,0,0,3,13,9,0,248,0,5,15,0,0,0,40,10,930,5632,16389,291,258,769,799,31,1001,1257,65399,2763,0,0,3,13,9,0,248,0,5,15,0,0,0,40,10,930,5632,16389,1027,256,0,0,100,1000,2805,65486,3624,0,0,0,15,20,6630,79,0,960,0,0,0,3,0,1,945,0,16385,513,768,
			 1,0,24,42,1200,3,2783,0,191,2,5,5,0,0,0,84,0,0,0,5,0,0,955,256,31232,513,768,1,0,24,50,1280,65478,2659,0,196,2,5,5,0,0,0,170,0,0,0,5,0,0,996,256,17408,513,768,1,0,24,28,1900,50,3625,0,204,2,5,5,0,1,0,240,0,0,0,5,0,0,169,256,31488,513,768,1,0,24,74,1294,65489,2840,0,183,2,5,5,0,0,0,58,0,0,0,5,0,0,848,256,12032,513,768,1,0,24,14,1169,65489,2688,0,195,2,5,5,0,0,0,202,0,0,0,3,0,0,1045,256,22272,513,768,1,0,24,0,1333,0,2745,0,130,2,5,5,0,1,0,66,0,0,0,0,0,0,32000,256,51456,513,768,1,0,24,35,1294,65516,2840,0,138,2,5,5,0,0,0,194,0,0,0,5,0,0,848,256,30976,513,768,1,0,24,16,1210,65501,2736,0,163,2,5,5,0,0,0,31,0,0,0,4,0,0,982,256,41472,513,768,1,0,24,57,1294,65477,2840,0,309,2,5,5,0,0,0,112,0,0,0,5,0,0,848,256,4352,513,768,1,0,24,39,1333,65470,2745,0,271,2,5,5,0,0,0,55,0,0,0,5,0,0,896,256,12288,513,768,1,0,24,38,1339,65511,2835,0,136,2,5,5,0,1,0,118,0,0,0,5,0,0,822,256,29440,513,768,1,0,24,62,1280,65467,2659,0,235,2,5,5,0,0,0,169,0,0,0,5,0,0,996,256,9472,513,768,1,0,24,39,1226,65486,2727,0,117,2,5,5,0,0,0,183,0,0,0,5,0,0,978,256,26624,513,768,1,0,24,2,1210,65527,2792,0,108,2,5,5,0,0,0,48,0,0,0,0,0,0,941,256,51456,513,768,1,0,24,0,1198,65525,2883,0,128,2,5,5,0,0,0,130,0,0,0,0,0,0,32000,256,38656,513,768,1,0,24,2,1198,5,2883,0,170,2,5,5,0,1,0,236,0,0,0,0,0,0,888,256,41472,513,768,1,0,24,7,1900,63,3625,0,187,2,5,5,0,1,0,24,0,0,0,1,0,0,169,256,38144,513,768,1,0,24,51,1907,34,3584,0,259,2,5,5,0,1,0,24,0,0,0,5,0,0,130,256,20736,513,768,1,0,24,75,1935,1,3619,0,198,2,5,5,0,0,0,122,0,0,0,5,0,0,172,256,7168,513,768,1,0,24,33,1907,31,3584,0,186,2,5,5,0,1,0,146,0,0,0,5,0,0,130,256,24576,513,768,1,0,24,71,1210,65471,2792,0,251,2,5,5,0,1,0,109,0,0,0,5,0,0,941,256,14080,513,768,1,0,24,82,1210,65457,2792,0,253,2,5,5,0,1,0,50,0,0,0,5,0,0,941,256,7680,513,768,1,0,24,36,1165,65500,2752,0,260,2,5,5,0,1,0,246,0,0,0,5,0,0,1001,256,15360,513,768,1,0,24,55,1900,34,3625,0,205,2,5,5,0,1,0,157,0,0,0,5,0,0,169,256,24064,513,768,1,0,24,16,1299,65501,2772,0,126,2,5,5,0,1,0,236,0,0,0,4,0,0,896,256,38912,513,768,1,0,24,43,1900,23,3625,0,190,2,5,5,0,1,0,236,0,0,0,5,0,0,169,256,19968,513,768,1,0,24,25,1198,65496,2883,0,122,2,5,5,0,1,0,134,0,0,0,5,0,0,888,256,23552,513,768,1,0,24,12,1900,73,3625,0,149,2,5,5,0,1,0,37,0,0,0,3,0,0,169,256,46592,513,768,1,0,24,54,1907,20,3584,0,187,2,5,5,0,0,0,150,0,0,0,5,0,0,130,256,18944,513,768,1,0,24,94,1657,0,3356,0,260,2,5,5,0,0,0,52,0,0,0,5,0,0,241,256,5632,513,768,1,0,24,51,1900,0,3625,0,253,2,5,5,0,0,0,17,0,0,0,5,0,0,169,256,6144,513,768,1,0,24,47,1900,65534,3625,0,300,2,5,5,0,1,0,144,0,0,0,5,0,0,169,256,4352,513,768,1,0,24,0,1299,65523,2772,0,148,2,5,5,0,0,0,28,0,0,0,0,0,0,32000,256,45056,513,768,1,0,24,0,1299,65490,2772,0,133,2,5,5,0,1,0,164,0,0,0,0,0,0,32000,256,31232,513,768,1,0,24,0,1333,65522,2801,0,106,2,5,5,0,0,0,110,0,0,0,0,0,0,32000,256,41728,513,768,1,0,24,0,1360,14,2684,0,135,2,5,5,0,0,0,31,0,0,0,0,0,0,32000,256,45312,513,768,1,0,24,0,1907,47,3584,0,187,2,5,5,0,1,0,73,0,0,0,0,0,0,32000,256,31232,513,768,1,
			 0,24,0,1226,65523,2784,0,107,2,5,5,0,0,0,200,0,0,0,0,0,0,32000,256,43008,513,768,1,0,24,0,1210,65510,2792,0,199,2,5,5,0,0,0,4,0,0,0,0,0,0,32000,256,33536,513,768,1,0,24,0,1238,65535,2793,0,156,2,5,5,0,0,0,220,0,0,0,0,0,0,32000,256,38400,513,768,1,0,24,0,1238,65529,2793,0,187,2,5,5,0,1,0,116,0,0,0,0,0,0,32000,256,31232,513,768,1,0,24,14,1198,65524,2883,0,133,2,5,5,0,1,0,192,0,0,0,3,0,0,888,256,37888,513,768,1,0,24,0,1333,65525,2801,0,58,2,5,5,0,1,0,80,0,0,0,0,0,0,32000,256,50688,513,768,1,0,24,0,1227,65532,2633,0,190,2,5,5,0,1,0,92,0,0,0,0,0,0,32000,256,34816,513,768,1,0,24,0,1360,17,2684,0,162,2,5,5,0,0,0,202,0,0,0,0,0,0,32000,256,43264,513,768,1,0,24,0,1227,6,2633,0,182,2,5,5,0,0,0,210,0,0,0,0,0,0,32000,256,39424,513,768,1,0,24,0,1296,65479,2701,0,63,2,5,5,0,0,0,174,0,0,0,0,0,0,32000,256,45568,513,768,1,0,24,0,1280,3,2659,0,117,2,5,5,0,1,0,15,0,0,0,0,0,0,32000,256,51456,513,768,1,0,24,0,1294,65531,2840,0,76,2,5,5,0,1,0,216,0,0,0,0,0,0,32000,256,47616,513,768,1,0,24,0,1261,65505,2796,0,54,2,5,5,0,0,0,178,0,0,0,0,0,0,32000,256,51200,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,773,2054,282,772,14321,0,14321,0 };

		if (level == 25)
		{
			static_assert(sizeof(rawData) == sizeof(SharedLevelMem));
			memcpy(&out_data, rawData, sizeof(SharedLevelMem));
			return true;
		}
	}


	{ // level 50 (Training)
		const static unsigned short rawData[] = {
				0,0,0,768,0,1000,350,65460,3750,0,0,100,15,23,0,0,0,0,0,0,0,0,0,0,0,0,0,257,256,0,978,0,1000,450,65451,3750,0,0,0,23,18,0,0,0,0,65386,0,10,0,0,0,100,65280,16385,289,258,1024,773,10,1000,750,65435,3550,0,0,0,54,20,0,0,0,0,0,0,0,0,0,0,447,1024,16390,289,258,1024,773,10,1000,1050,65435,3350,0,0,0,54,20,0,128,0,0,0,0,0,0,0,1,806,1024,16384,257,256,0,978,0,1000,750,65445,3750,0,0,0,95,18,0,0,0,1,65386,0,10,0,0,0,400,65280,16385,257,256,0,768,210,1000,750,65445,3565,0,0,0,63,18,0,0,0,0,65376,0,10,0,0,0,441,65280,16384,295,256,0,774,0,1000,750,65435,3250,0,0,0,7,7,0,0,0,1,0,0,0,0,0,0,640,1284,5120,257,256,0,978,0,1000,750,65445,3365,0,0,0,81,18,0,0,0,2,65436,0,10,0,0,0,555,65280,16385,257,256,0,768,210,1000,748,65445,3247,0,0,0,19,18,0,0,0,3,65436,0,10,0,0,0,641,65280,16385,289,258,1024,773,10,1001,1450,65435,3550,0,0,0,10,20,0,0,0,65535,150,0,0,0,0,0,1118,1024,16384,545,258,0,772,50,1000,1368,65486,3497,0,0,0,29,10,0,0,0,1,10,0,0,0,0,0,1049,1024,16384,257,256,0,978,0,1000,1437,65445,3371,0,0,0,97,18,0,0,0,4,65386,0,10,0,0,0,1151,65280,16385,257,256,0,978,0,1000,1511,65445,3785,0,0,0,97,18,0,0,0,5,65316,0,10,0,0,0,1162,65280,16385,295,256,0,774,0,1000,1750,65435,3450,0,0,0,7,7,0,0,0,2,0,0,0,0,0,0,1432,1284,5120,289,258,1024,773,10,1000,1950,65435,3850,0,0,0,54,20,0,128,0,0,0,0,0,0,0,2,1603,1024,16384,257,256,0,978,0,1000,1750,65445,3550,0,0,0,52,18,0,0,0,2,65436,0,10,0,0,0,1414,65280,16385,289,258,1024,773,10,1000,2350,65435,3350,0,0,0,54,20,0,0,0,0,0,0,0,0,1,65535,2040,1024,16384,545,258,2,307,51,1000,2496,65478,3914,0,0,0,34,10,0,384,0,0,0,0,0,0,1,8,2152,1024,16384,545,258,2,307,51,1000,2496,65478,3812,0,0,0,34,10,0,384,0,0,0,0,0,0,1,16,2147,1024,16384,545,258,2,307,51,1000,2496,65478,3712,0,0,0,34,10,0,384,0,0,0,0,0,0,1,224,2146,1024,16384,545,258,2,307,51,1000,2204,65476,3510,0,0,0,34,10,0,128,0,0,0,0,0,0,1,1,1869,1024,16384,545,258,2,307,51,1000,2204,65476,3610,0,0,0,34,10,0,128,0,0,0,0,0,0,1,2,1859,1024,16384,545,258,2,307,51,1000,2204,65476,3710,0,0,0,34,10,0,128,0,0,0,0,0,0,1,4,1854,1024,16384,257,256,0,0,202,1000,2241,65439,3060,0,0,0,6,18,0,0,0,2,15,1,0,0,2,0,2013,65280,7170,518,256,15873,817,9,1000,2353,65448,3069,0,0,0,13,13,0,2,0,0,0,0,0,16,0,0,2116,256,12306,518,256,15873,817,9,1000,2374,65447,3072,0,0,0,13,13,0,509,0,0,0,0,0,16,0,0,2135,256,11026,518,256,15873,817,9,1000,2326,65447,3071,0,0,0,13,13,0,1,0,0,0,0,0,16,0,0,2089,256,11282,769,512,0,258,0,1000,2350,65443,2750,0,0,0,7,10,0,0,0,800,0,0,0,16,0,0,2236,258,6912,257,256,0,978,0,1000,2350,65445,3850,0,0,0,120,18,0,0,0,6,65316,0,10,0,0,0,2002,65280,16385,257,256,0,978,0,1000,2350,65445,3190,0,0,0,50,18,0,0,0,7,65316,0,10,0,0,0,2077,65280,16385,257,256,0,978,0,1000,2350,65445,2921,0,0,0,80,18,0,0,0,8,65386,0,10,0,0,0,2165,65280,16385,257,256,0,768,210,1000,2350,65445,2750,0,0,0,19,18,0,0,0,9,65206,0,10,0,0,0,2236,65280,16385,257,256,0,978,0,1000,1750,65445,2950,0,0,0,42,18,0,0,0,10,65436,0,10,0,0,0,1612,65280,16385,1055,258,1,65301,80,1000,1551,65440,2942,0,65535,0,15,8,0,65153,0,6,0,0,0,0,0,8,1448,1063,12800,551,256,0,789,0,1000,1550,65439,2750,0,0,0,14,10,0,458,0,1,0,0,0,0,0,5,1562,1046,7680,513,256,0,789,0,1000,1545,65443,2550,0,0,0,15,7,0,0,0,7,0,0,0,0,0,9,1694,1,6656,257,768,0,277,23,1000,1550,65445,2350,17,0,17,15,10,0,0,0,4,30,107,1525,0,0,2,1844,2563,5632,551,
				768,0,277,0,1000,1850,65439,2550,0,0,0,14,10,0,0,0,3,0,0,0,0,0,7,1921,1025,7680,287,512,1,532,0,1000,1852,65443,2325,0,0,0,10,8,0,298,30,3,1,2,0,0,1,1,2070,1087,1,287,512,1,532,0,1000,1866,65443,2363,0,0,0,10,8,0,298,30,3,1,2,0,0,1,1,2055,1087,1,551,512,9984,277,0,1000,1850,65439,2750,0,0,0,15,10,0,358,0,2,0,0,0,0,0,6,1803,1064,10496,287,512,1,532,0,1000,1840,65443,2325,0,0,0,10,8,0,340,30,3,1,2,0,0,1,1,2062,1087,1,1025,768,10496,32277,0,1000,1850,65443,2350,65535,1,0,22,6,132,140,0,5,6,0,0,0,300,3,2052,3,5140,803,258,1,804,36,1010,850,65216,2450,0,0,0,13,8,210,65024,0,0,2,65024,0,0,30,65535,1393,5632,16386,803,258,1,804,36,1010,911,65216,2450,0,0,0,13,8,210,65024,0,0,2,65024,0,0,30,65535,1416,5632,16386,803,258,1,804,36,1010,911,65216,2550,0,0,0,13,8,210,65024,0,0,2,65024,0,0,30,65535,1325,5632,16386,803,258,1,804,36,1010,761,65216,2550,0,0,0,13,8,210,65024,0,0,2,65024,0,0,30,65535,1268,5632,16386,803,258,1,804,36,1010,761,65216,2450,0,0,0,13,8,210,65024,0,0,2,65024,0,0,30,65535,1363,5632,16386,803,258,1,804,36,1010,811,65216,2390,0,0,0,13,8,210,65024,0,0,2,65024,0,0,30,65535,1436,5632,16386,289,258,1024,773,10,1000,550,65036,2250,0,0,0,54,20,0,128,0,0,0,0,0,0,0,5,1513,1024,16384,295,256,0,774,0,1000,1161,65039,2858,0,0,0,7,7,0,0,0,5,0,0,0,0,0,0,1206,1284,5120,289,258,1024,773,10,1000,1550,65039,1450,0,0,0,54,20,0,128,0,0,0,0,0,0,2,65535,2594,1024,16384,545,258,2,307,51,1000,1116,65086,1402,0,0,0,25,10,0,256,0,0,0,0,0,0,2,1,2470,1024,16384,545,258,2,307,51,1000,911,65083,1502,0,0,0,25,10,0,256,0,0,0,0,0,0,2,2,2317,1024,16384,545,258,2,307,51,1000,802,65084,1142,0,0,0,25,10,0,128,0,0,0,0,0,0,2,4,2647,1024,16384,545,258,2,307,51,1000,1098,65083,1165,0,0,0,25,10,0,384,0,0,0,0,0,0,2,248,2691,1024,16384,769,256,0,263,0,1000,1655,65443,2053,0,0,0,43,8,0,0,0,10,0,0,0,0,0,0,2141,65280,16384,1059,256,0,0,0,1000,648,65036,2863,0,0,0,20,20,65516,41,0,0,0,0,0,0,0,0,936,1024,16384,1315,1024,0,0,0,1000,850,65039,2858,0,0,0,20,20,65516,6,0,0,0,0,0,0,0,0,1023,1024,16384,1315,1024,0,0,0,1000,1158,65039,2849,0,0,0,20,20,65526,463,0,0,0,0,0,0,0,0,1210,1024,16384,1315,1024,0,0,0,1000,646,65039,2039,0,0,0,20,20,65526,219,0,0,0,0,0,0,0,0,1736,1024,16384,1315,256,0,778,0,1000,1296,65093,2049,0,0,0,20,58,65526,128,0,0,0,0,0,0,0,0,1946,1024,16384,292,258,1,806,38,1000,1060,65061,1661,65531,0,1,20,20,0,382,0,0,10,0,0,100,150,0,2206,1024,16394,292,258,1,806,38,1000,1250,65061,1250,65531,0,1,20,20,0,382,0,0,10,0,0,100,150,0,2657,1024,16394,258,256,0,0,8,1000,750,65105,1550,0,0,0,6,39,0,0,0,0,0,0,0,0,0,0,2236,3072,18176,258,256,0,0,8,1000,550,65105,1550,0,0,0,6,39,0,0,0,0,0,0,0,0,0,0,2209,3072,18176,514,256,0,0,8,1000,2350,65487,3550,0,0,0,6,39,0,0,0,0,0,0,0,0,0,0,2010,3072,11520,514,256,0,0,8,1000,2350,65487,3650,0,0,0,6,39,0,0,0,0,0,0,0,0,0,0,2002,3072,11520,514,256,0,0,8,1000,2350,65487,3750,0,0,0,6,39,0,0,0,0,0,0,0,0,0,0,2000,3072,11520,257,256,0,0,202,1000,2255,65439,3060,0,0,0,6,18,0,0,0,1,15,1,0,0,1,0,2026,65280,7169,1311,256,0,0,9,1000,632,65439,3240,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,583,1024,16384,1311,256,0,0,9,1000,1566,65439,3224,0,0,0,20,20,0,180,0,0,0,0,0,0,0,0,1325,1024,16384,1311,256,0,0,9,1000,1428,65439,3967,0,0,0,20,20,0,404,0,0,0,0,0,0,0,0,1100,1024,16384,1055,768,1,0,9,1000,2398,65502,3988,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2062,1024,16384,1055,1024,
				0,0,9,1000,1604,65501,2796,0,0,0,20,20,0,64,0,0,0,0,0,0,0,0,1576,1024,16384,1055,1024,0,0,9,1000,1604,65501,2596,0,0,0,20,20,0,64,0,0,0,0,0,0,0,0,1704,1024,16384,1055,1024,0,0,9,1000,1604,65501,2396,0,0,0,20,20,0,64,0,0,0,0,0,0,0,0,1845,1024,16384,1055,1024,0,0,9,1000,1796,65501,2796,0,0,0,20,20,0,65472,0,0,0,0,0,0,0,0,1732,1024,16384,1055,1024,0,0,9,1000,1796,65501,2596,0,0,0,20,20,0,65472,0,0,0,0,0,0,0,0,1850,1024,16384,1055,1024,0,0,9,1000,1796,65501,2396,0,0,0,20,20,0,65472,0,0,0,0,0,0,0,0,1981,1024,16384,1311,256,0,0,9,1000,628,65039,2110,0,0,0,20,20,0,64,0,0,0,0,0,0,0,0,1663,1024,16384,1311,256,0,0,9,1000,640,65039,2399,0,0,0,20,20,0,64,0,0,0,0,0,0,0,0,1382,1024,16384,1311,256,0,0,9,1000,888,65099,2688,0,0,0,17,4,0,64,0,0,0,0,0,0,0,0,1190,1024,16384,1055,1024,0,0,9,1000,405,65095,1892,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,1859,1024,16384,1311,256,0,0,9,1000,322,65039,1421,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,2329,1024,16384,1055,768,1,0,9,1000,1301,65113,1210,0,0,0,20,20,0,256,0,0,0,0,0,0,0,0,2712,1024,16384,1055,1024,1,0,9,1000,2295,65096,1405,0,0,0,20,20,0,310,0,0,0,0,0,0,0,0,3047,1024,16384,1311,256,0,0,9,1000,2521,65166,2379,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2568,1024,16384,1311,768,0,0,9,1000,1005,65127,1505,0,0,0,20,20,0,170,0,0,0,0,0,0,0,0,2339,1024,16384,258,256,3,0,8,1000,888,65075,2688,0,0,0,10,18,0,0,0,0,0,0,0,0,0,0,1190,3072,9728,1311,256,0,0,9,1000,888,65099,2288,0,0,0,17,4,0,64,0,0,0,0,0,0,0,0,1558,1024,16384,258,256,3,0,8,1000,888,65075,2288,0,0,0,10,18,0,0,0,0,0,0,0,0,0,0,1558,3072,9728,546,259,15616,14,14,3000,901,65216,2168,3,409,65534,20,20,128,84,0,4,47,84,0,108,0,102,1675,1024,16384,546,259,15616,14,14,3000,710,65216,2505,0,2,65533,20,20,128,19,0,4,47,19,0,108,0,0,1296,1024,16384,546,259,15616,14,14,3000,663,65216,2180,3,421,3,20,20,128,65200,0,4,47,176,0,108,0,46,1601,1024,16384,546,259,15616,14,14,3000,810,65216,2305,65532,318,2,20,20,128,351,0,4,47,351,0,108,0,226,1516,1024,16384,546,258,15616,14,14,1000,1109,65143,2027,65532,600,0,20,20,0,65419,0,4,47,395,0,16,0,189,1883,1024,16384,546,259,15616,14,14,3000,930,65216,2027,4,19,0,20,20,128,120,0,4,47,120,0,108,0,6,1818,1024,16384,546,259,15616,14,14,3000,666,65216,2488,1,2,65533,20,20,128,25,0,4,47,25,0,108,0,0,1301,1024,16384,257,256,22272,0,190,1000,1750,65449,2050,0,0,0,10,10,0,0,0,0,0,0,9,0,0,2,2202,65280,16384,257,256,22528,0,190,1000,1760,65449,2050,0,0,0,10,10,0,0,0,0,0,0,9,0,0,2,2209,65280,16384,288,768,0,265,0,1000,2669,65169,2192,0,0,0,20,20,0,256,0,0,0,0,0,0,0,0,2794,1024,16384,288,768,0,265,0,1000,2626,65169,2192,0,0,0,20,20,0,256,0,0,0,0,0,0,0,0,2758,1024,16384,800,512,2,303,0,1000,2650,65247,2150,0,0,0,33,17,0,128,0,7,0,0,0,0,0,0,2802,1024,16384,293,258,2,0,74,1000,2676,65216,2234,0,0,0,6,96,4,128,0,0,0,3,0,100,0,0,2776,1024,16384,1057,256,2,356,0,1000,2950,65369,3782,0,0,0,96,20,0,0,0,0,0,0,0,0,1000,0,2600,1024,16384,806,768,0,373,117,1000,2797,65226,1949,167,12,237,20,5,253,213,0,0,264,0,17,0,0,0,3038,1024,16384,257,256,0,978,0,1000,2594,65179,2274,0,0,0,52,18,0,0,0,11,65386,0,10,0,0,0,2686,65280,16385,257,256,0,978,0,1000,2640,65265,1987,0,0,0,52,18,0,0,0,12,65386,0,10,0,0,0,2890,65280,16385,257,256,0,978,0,1000,2750,65089,1750,0,0,0,77,18,0,0,0,13,65386,0,10,0,0,0,3124,65280,16385,1064,258,20224,260,50,1000,2976,65083,1527,0,0,0,20,20,0,0,0,20,6,0,0,0,0,0,3441,1024,16385,552,258,7,
				5,10,1020,2950,65136,1950,0,1,0,10,20,0,256,0,0,0,0,0,0,0,0,3062,1024,16384,514,256,0,0,0,1000,2992,65186,1954,0,0,0,9,33,0,256,0,0,0,0,0,0,0,0,3195,3072,12544,514,256,0,0,0,1000,2908,65186,1954,0,0,0,9,33,0,256,0,0,0,0,0,0,0,0,3126,3072,12544,808,258,6,0,0,1000,2950,65238,1950,0,0,0,10,20,0,0,0,0,0,0,0,0,0,0,3262,1024,16384,806,1024,0,373,117,1000,3071,65226,1610,208,9,78,20,5,425,227,0,0,230,0,40,0,0,0,3462,1024,16384,806,1024,0,373,117,1000,2645,65171,1567,189,0,169,20,5,484,419,0,0,290,0,93,0,0,0,3167,1024,16384,806,1024,0,373,117,1000,2665,65211,1742,110,11,108,20,5,42,12,0,0,365,0,258,0,0,0,3065,1024,16384,806,1024,0,373,117,1000,2765,65177,1442,98,65531,118,20,5,256,302,0,0,118,0,0,0,0,0,3341,1024,16384,806,1024,0,373,117,1000,2633,65225,1612,129,5,74,20,5,48,104,0,0,316,0,154,0,0,0,3128,1024,16384,806,1024,0,373,117,1000,2660,65147,1728,196,9,122,20,5,256,89,0,0,297,0,0,0,0,0,3070,1024,16384,806,768,0,373,117,1000,2821,65160,1751,211,8,253,20,5,475,199,0,0,6,0,224,0,0,0,3178,1024,16384,806,768,0,373,117,1000,2858,65093,1783,10,65524,241,20,5,91,193,0,0,353,0,33,0,0,0,3187,1024,16384,806,768,0,373,117,1000,2841,65215,1428,241,2,14,20,5,237,5,0,0,234,0,117,0,0,0,3405,1024,16384,806,768,0,373,117,1000,2803,65085,1556,32,5,71,20,5,256,237,0,0,472,0,0,0,0,0,3291,1024,16384,806,258,0,0,15,1000,2749,65079,1559,0,0,0,10,15,0,0,0,3,0,0,0,9,0,0,3249,1024,16384,806,258,0,0,15,1000,2849,65079,1559,0,0,0,10,15,0,459,0,2,0,0,0,38,0,0,3323,1024,16384,1062,258,0,0,15,1000,2866,65079,1630,0,0,0,10,15,0,0,0,2,0,0,0,34,0,0,3290,1024,16384,1062,258,0,0,15,1000,2877,65079,1642,0,0,0,10,15,0,110,0,1,0,0,0,148,0,0,3291,1024,16384,1062,258,0,0,15,1000,2949,65091,1761,0,0,0,10,15,0,110,0,3,0,0,0,178,0,0,3273,1024,16384,1062,258,0,0,15,1000,2720,65079,1653,0,0,0,10,15,0,110,0,1,0,0,0,134,0,0,3165,1024,16384,257,512,0,0,104,1000,2931,65127,2315,2,0,65534,8,5,0,0,0,0,0,0,0,0,0,0,2953,65280,16384,257,512,0,0,104,1000,2936,65135,3074,65535,0,1,8,5,0,0,0,0,0,0,0,0,0,0,2673,65280,16384,257,512,0,0,104,1000,2931,65147,2795,3,0,1,8,5,0,0,0,0,0,0,0,0,0,0,2752,65280,16384,1311,256,0,0,9,1000,2215,65235,2284,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2372,1024,16384,1311,256,0,0,9,1000,2679,65166,2377,0,0,0,20,20,0,273,0,0,0,0,0,0,0,0,2704,1024,16384,806,768,0,373,117,1000,2800,65085,1646,10,65534,250,20,5,96,33,0,0,194,0,104,0,0,0,3229,1024,16384,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,520,2314,264,782,5084,0,5084,0 };

		if (level == 50)
		{
			static_assert(sizeof(rawData) == sizeof(SharedLevelMem));
			memcpy(&out_data, rawData, sizeof(SharedLevelMem));
			return true;
		}
	}

	{ // level 98
		const static unsigned short rawData[] = {
			 0,0,0,768,0,1000,547,20,2632,2,0,99,15,23,0,0,0,0,0,0,0,0,0,0,0,0,0,293,256,0,0,0,1000,1950,65399,2197,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,1468,1024,16384,293,512,0,0,0,1000,1803,65400,2150,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,1344,1024,16384,293,768,0,0,0,1000,1802,65401,2345,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,1287,1024,16384,548,512,0,0,0,1000,1786,65339,2250,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,1296,1024,16384,258,257,0,0,0,1000,1750,65375,2250,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,1261,0,11264,548,512,0,0,0,1000,3200,65339,1350,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,2945,1024,16384,804,256,0,0,71,1000,3050,65347,1250,0,0,0,0,0,0,185,0,0,0,0,0,0,0,0,2858,1024,16384,548,512,0,0,0,1000,1950,65339,2502,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,1409,1024,16384,548,512,0,0,0,1000,2150,65339,2504,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,1608,1024,16384,258,513,0,0,0,1000,1950,65375,2550,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,1405,0,11264,258,513,0,0,0,1000,2150,65375,2550,0,0,0,20,20,0,1,0,0,0,0,0,0,0,0,1605,0,11264,258,257,0,0,0,1000,2138,65375,2250,0,0,0,20,20,0,1,0,0,0,0,0,0,0,0,1636,0,11264,548,512,0,0,0,1000,3050,65339,1396,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2790,1024,16384,548,512,0,0,0,1000,3144,65339,1397,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2874,1024,16384,548,512,0,0,0,1000,2960,65339,1396,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2710,1024,16384,548,512,0,0,0,1000,2907,65339,1350,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,2684,1024,16384,548,512,0,0,0,1000,2908,65339,1250,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,2734,1024,16384,548,512,0,0,0,1000,2909,65339,1150,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,2787,1024,16384,1025,768,0,0,255,1000,1750,65355,1250,0,0,0,9,7,0,0,0,440,73,0,0,350,0,5,1830,0,23040,548,768,0,0,0,1000,1792,65339,2249,0,0,0,20,20,0,126,0,0,0,0,0,0,0,0,1302,1024,16384,548,768,0,0,0,1000,2045,65339,2486,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,1505,1024,16384,548,768,0,0,0,1000,2099,65339,2254,0,0,0,20,20,0,388,0,0,0,0,0,0,0,0,1597,1024,16384,291,256,0,0,0,1000,2850,65339,2350,0,0,0,20,20,0,256,0,0,0,0,0,0,0,0,2320,1024,16384,291,768,0,0,0,1000,2950,65339,2350,0,0,0,20,20,0,256,0,0,0,0,0,0,0,0,2419,1024,16384,291,512,0,0,0,1000,3050,65339,2350,0,0,0,20,20,0,256,0,0,0,0,0,0,0,0,2519,1024,16384,291,512,0,0,0,1000,2850,65339,2550,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2304,1024,16384,291,256,0,0,0,1000,2950,65339,2550,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2404,1024,16384,291,256,0,0,0,1000,3050,65339,2550,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2504,1024,16384,291,768,0,0,0,1000,2949,65339,1836,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2530,1024,16384,291,256,0,0,0,1000,2850,65339,1833,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2437,1024,16384,291,768,0,0,0,1000,2850,65339,1950,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,2401,1024,16384,547,256,0,0,116,1000,2950,65476,1950,0,0,0,20,20,256,128,0,0,90,0,0,0,0,0,2497,8960,16384,290,256,0,0,0,1000,3168,65372,1809,0,0,0,20,20,118,256,0,0,0,0,0,0,0,0,2746,1024,16384,291,256,0,0,0,1000,2850,65339,2063,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2372,1024,16384,291,768,0,0,0,1000,2950,65339,2062,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2469,1024,16384,288,512,0,0,0,1000,450,65535,1750,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,884,1024,16384,806,
			 256,0,0,0,1000,2650,65389,3150,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2167,1024,16384,550,256,0,0,0,1000,3050,65398,2950,0,0,0,20,20,65516,334,0,0,0,0,0,0,0,0,2523,1024,16384,548,768,0,0,0,1000,2711,65337,3106,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2216,1024,16384,548,768,0,0,0,1000,2987,65337,2992,0,0,0,20,20,0,309,0,0,0,0,0,0,0,0,2467,1024,16384,547,256,0,0,116,1000,2350,65476,2450,0,0,0,20,20,256,128,0,1,0,0,0,0,0,0,1812,1280,16384,291,256,0,0,0,1000,1450,65339,3150,0,0,0,20,20,0,0,0,0,24,0,0,0,0,0,1043,1024,16384,291,256,3,0,0,1000,1582,65339,3150,0,0,0,20,20,0,260,0,0,24,0,0,0,0,0,1159,1024,16384,806,512,2,0,0,1000,2750,65388,2950,0,0,0,20,20,0,256,0,0,0,0,0,0,0,0,2226,1024,16384,294,768,2,0,0,1000,2944,65381,3138,0,0,0,20,20,10,494,0,0,0,0,0,0,0,0,2450,1024,16384,547,256,0,0,116,1000,2550,65476,2650,0,0,0,20,20,256,0,0,0,54,0,0,0,0,0,2003,8960,16384,547,256,0,0,116,1000,2550,65476,2450,0,0,0,20,20,256,128,0,1,0,0,0,0,0,0,2011,1280,16384,547,256,0,0,116,1000,2550,65476,2850,0,0,0,20,20,256,0,0,1,0,0,0,0,0,0,2015,1280,16384,547,256,0,0,116,1000,2750,65476,2450,0,0,0,20,20,256,128,0,0,64,0,0,0,0,0,2210,8960,16384,547,256,0,0,116,1000,2950,65476,2450,0,0,0,20,20,256,128,0,1,0,0,0,0,0,0,2410,1280,16384,547,256,0,0,116,1000,3050,65476,2450,0,0,0,20,20,256,128,0,1,0,0,0,0,0,0,2509,1280,16384,547,256,0,0,116,1000,2650,65476,3050,0,0,0,20,20,256,128,0,1,0,0,0,0,0,0,2145,1280,16384,547,256,0,0,116,1000,3350,65476,2750,0,0,0,20,20,256,0,0,1,0,0,0,0,0,0,2806,1280,16384,547,256,0,0,116,1000,2850,65476,3050,0,0,0,20,20,256,128,0,1,0,0,0,0,0,0,2341,1280,16384,547,256,0,0,116,1000,3350,65476,2950,0,0,0,20,20,256,0,0,0,80,0,0,0,0,0,2821,8960,16384,547,256,0,0,116,1000,3050,65476,3050,0,0,0,20,20,256,128,0,1,0,0,0,0,0,0,2538,1280,16384,547,256,0,0,116,1000,3050,80,1350,0,0,0,20,20,256,128,0,1,0,0,0,0,0,0,2811,1280,16384,547,256,0,0,116,1000,3050,80,1250,0,0,0,20,20,256,128,0,1,0,0,0,0,0,0,2858,1280,16384,547,256,0,0,116,1000,3050,80,1150,0,0,0,20,20,256,128,0,1,0,0,0,0,0,0,2907,1280,16384,548,512,0,0,0,1000,3200,65339,1267,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,2982,1024,16384,548,512,0,0,0,1000,3199,65339,1163,0,0,0,20,20,0,128,0,0,0,0,0,0,0,0,3030,1024,16384,548,512,0,0,0,1000,3150,65339,1100,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,3019,1024,16384,548,512,0,0,0,1000,3052,65339,1100,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2935,1024,16384,548,512,0,0,0,1000,2958,65339,1100,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,2855,1024,16384,291,768,1,0,0,1000,1973,65339,2950,0,0,0,20,20,0,260,0,0,24,0,0,0,0,0,1462,1024,16384,291,512,3,0,0,1000,2084,65339,2950,0,0,0,20,20,0,260,0,0,24,0,0,0,0,0,1570,1024,16384,518,256,0,0,0,1000,1010,65491,3677,0,0,0,13,18,0,2,0,4,14,0,0,6,2,0,1146,2816,13826,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,549,515,3,5,0,1000,1950,65339,1950,0,0,0,0,20,0,0,0,0,0,0,0,100,0,0,1559,1024,16384,547,768,0,0,0,1000,950,65339,1850,0,0,0,20,20,0,256,0,0,0,0,0,0,0,0,877,1024,16384,547,512,0,0,0,1000,450,65535,1850,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,785,1024,16384,547,512,0,0,0,1000,450,65535,2050,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,587,1024,16384,547,1024,0,0,0,1000,446,65535,1933,0,0,0,20,20,0,131,0,0,0,0,0,0,0,0,703,1024,16384,547,1024,
			 0,0,0,1000,446,65535,1971,0,0,0,20,20,0,131,0,0,0,0,0,0,0,0,666,1024,16384,547,1024,0,0,0,1000,452,65535,2123,0,0,0,20,20,0,61,0,0,0,0,0,0,0,0,515,1024,16384,547,512,0,0,0,1000,450,65535,2350,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,295,1024,16384,547,512,0,0,0,1000,450,65535,2450,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,204,1024,16384,547,1024,0,0,0,1000,451,65535,2581,0,0,0,20,20,0,131,0,0,0,0,0,0,0,0,107,1024,16384,547,1024,0,0,0,1000,450,65535,2650,0,0,0,20,20,0,131,0,0,0,0,0,0,0,0,99,1024,16384,547,1024,0,0,0,1000,450,65535,2685,0,0,0,20,20,0,131,0,0,0,0,0,0,0,0,112,1024,16384,547,1024,0,0,0,1000,1050,65339,1850,0,0,0,20,20,0,204,0,0,0,0,0,0,0,0,927,1024,16384,547,1024,0,0,0,1000,2750,65339,1550,0,0,0,20,20,0,95,0,0,0,0,0,0,0,0,2453,1024,16384,293,256,0,0,0,1000,693,66,2050,0,0,0,20,20,0,384,0,0,0,0,0,0,0,0,597,1024,16384,293,512,0,0,0,1000,693,74,2134,0,0,0,20,20,0,384,0,0,0,0,0,0,0,0,516,1024,16384,293,768,0,0,0,1000,693,69,2328,0,0,0,20,20,0,384,0,0,0,0,0,0,0,0,335,1024,16384,549,256,0,0,0,1000,693,63,2448,0,0,0,20,20,0,384,0,0,0,0,0,0,0,0,233,1024,16384,1060,512,3,0,71,1000,1009,65339,2311,0,0,0,0,0,0,507,0,0,0,0,0,0,0,0,561,8960,16384,1060,256,0,0,71,1000,1015,65339,2050,0,0,0,0,0,0,291,0,0,0,0,0,0,0,0,744,8192,16384,290,256,0,0,0,1000,3131,65372,1809,0,0,0,20,20,118,246,0,0,0,0,0,0,0,0,2711,1024,16384,291,768,0,0,0,1000,549,65535,3172,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,543,1024,16384,289,258,768,834,66,1000,1057,65470,3651,84,0,95,10,6,0,156,0,170,2,0,0,13,6,0,1142,1024,16386,289,258,768,834,66,1000,1049,65470,3649,196,0,160,10,6,0,149,0,247,2,0,0,46,6,0,1137,1024,16386,289,258,768,834,66,1000,1016,65470,3643,118,0,163,10,6,0,509,0,0,2,0,0,152,6,0,1117,1024,16386,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,803,512,0,0,0,1000,1050,65466,3599,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,1093,1024,16384,801,258,1,0,15,1000,1039,65469,3678,71,0,98,10,6,0,408,0,2,0,0,0,44,6,0,1159,1024,16386,1057,258,1,0,15,1000,1082,65469,3646,71,0,98,10,6,0,408,0,1,0,0,0,184,6,0,1149,1024,16386,1057,258,1,0,15,1000,1069,65469,3625,71,0,98,10,6,0,288,0,2,0,0,0,94,6,0,1124,1024,16386,801,258,1,0,15,1000,1016,65469,3644,71,0,98,10,6,0,248,0,2,0,0,0,188,6,0,1118,1024,16386,518,256,0,0,202,1000,1069,65498,3659,0,0,0,13,18,0,2,0,4,1,1,0,6,2,0,1155,2816,18946,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
			 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,516,1032,1032,514,6003,0,6003,0 };

		if (level == 98)
		{
			static_assert(sizeof(rawData) == sizeof(SharedLevelMem));
			memcpy(&out_data, rawData, sizeof(SharedLevelMem));
			return true;
		}
	}

	return false;
}
